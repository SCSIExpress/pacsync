# Docker Compose Override Example
# Copy this file to docker-compose.override.yml and customize for your environment

services:
  pacman-sync-server:
    # Override environment variables
    environment:
      - LOG_LEVEL=DEBUG
      - JWT_SECRET_KEY=your-custom-secret-key
    
    # Add additional volume mounts
    volumes:
      - ./custom-config:/app/config/custom:ro
    
    # Override resource limits
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
        reservations:
          memory: 256M
          cpus: '0.25'
    
    # Add labels for monitoring
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.pacman-sync.rule=Host(`pacman-sync.local`)"

  postgres:
    # Override PostgreSQL configuration
    environment:
      - POSTGRES_SHARED_PRELOAD_LIBRARIES=pg_stat_statements
    
    # Add custom initialization scripts
    volumes:
      - ./custom-init:/docker-entrypoint-initdb.d:ro
    
    # Override resource limits
    deploy:
      resources:
        limits:
          memory: 256M
          cpus: '0.25'