# Pacman Sync Utility Pool Definitions
# AUR Package Configuration Template
# This file is installed to /etc/pacman-sync-utility/pools.conf

# Pool definitions for organizing endpoints
# Pools allow grouping endpoints for coordinated package synchronization

# Default pool configuration
default:
  name: "Default Pool"
  description: "Default pool for new endpoints"
  auto_assign: true
  max_endpoints: 50
  sync_strategy: "latest"
  
  # Pool-specific settings
  settings:
    # Automatic sync interval in seconds (0 = disabled)
    auto_sync_interval: 0
    
    # Enable conflict resolution
    enable_conflict_resolution: true
    
    # Conflict resolution strategy: newest, oldest, manual
    conflict_resolution_strategy: "newest"
    
    # Maximum sync operations per endpoint
    max_concurrent_syncs: 1
    
    # Sync timeout in seconds
    sync_timeout: 600

# Example pool configurations (commented out by default)

# Development pool for testing
# development:
#   name: "Development Pool"
#   description: "Pool for development and testing endpoints"
#   auto_assign: false
#   max_endpoints: 10
#   sync_strategy: "manual"
#   
#   settings:
#     auto_sync_interval: 0
#     enable_conflict_resolution: false
#     conflict_resolution_strategy: "manual"
#     max_concurrent_syncs: 1
#     sync_timeout: 300

# Production pool for stable systems
# production:
#   name: "Production Pool"
#   description: "Pool for production systems requiring stable packages"
#   auto_assign: false
#   max_endpoints: 100
#   sync_strategy: "conservative"
#   
#   settings:
#     auto_sync_interval: 3600  # 1 hour
#     enable_conflict_resolution: true
#     conflict_resolution_strategy: "oldest"
#     max_concurrent_syncs: 2
#     sync_timeout: 900

# Gaming pool for gaming systems
# gaming:
#   name: "Gaming Pool"
#   description: "Pool for gaming systems with performance-focused packages"
#   auto_assign: false
#   max_endpoints: 25
#   sync_strategy: "performance"
#   
#   settings:
#     auto_sync_interval: 1800  # 30 minutes
#     enable_conflict_resolution: true
#     conflict_resolution_strategy: "newest"
#     max_concurrent_syncs: 3
#     sync_timeout: 1200

# Server pool for headless servers
# server:
#   name: "Server Pool"
#   description: "Pool for headless server systems"
#   auto_assign: false
#   max_endpoints: 50
#   sync_strategy: "minimal"
#   
#   settings:
#     auto_sync_interval: 7200  # 2 hours
#     enable_conflict_resolution: true
#     conflict_resolution_strategy: "oldest"
#     max_concurrent_syncs: 1
#     sync_timeout: 1800

# Pool assignment rules (optional)
# These rules automatically assign endpoints to pools based on criteria
assignment_rules:
  # Assign endpoints with "dev" in hostname to development pool
  # - pattern: ".*dev.*"
  #   pool: "development"
  #   priority: 10
  
  # Assign endpoints with "prod" in hostname to production pool
  # - pattern: ".*prod.*"
  #   pool: "production"
  #   priority: 20
  
  # Assign endpoints with "game" in hostname to gaming pool
  # - pattern: ".*game.*"
  #   pool: "gaming"
  #   priority: 15

# Global pool settings
global:
  # Default sync strategy for new pools: latest, conservative, performance, minimal, manual
  default_sync_strategy: "latest"
  
  # Maximum number of pools
  max_pools: 20
  
  # Enable pool statistics collection
  enable_statistics: true
  
  # Statistics retention in days
  statistics_retention_days: 30
  
  # Enable pool health monitoring
  enable_health_monitoring: true
  
  # Health check interval in seconds
  health_check_interval: 300